import{a as M,P as D}from"./dates-D_KJE76d.js";import{s as G,f as k}from"./vendor-CTKi4Xbf.js";function K(y,c){const d=G.get("lastActivity");let s={lastActivity:d,key:y};for(const p in c)if(c.hasOwnProperty(p)){if(c[p]===null||c[p]===void 0){s[p]="";continue}if(c[p]instanceof Date){s[p]=k(c[p],"yMMdd");continue}s[p]=c[p]}return"dcx_"+j(JSON.stringify(s)).substring(0,12)+d}function j(y){var c="0123456789abcdef";function d(u){var i,f="";for(i=0;i<=3;i++)f+=c.charAt(u>>i*8+4&15)+c.charAt(u>>i*8&15);return f}function s(u,i){var f=(u&65535)+(i&65535),l=(u>>16)+(i>>16)+(f>>16);return l<<16|f&65535}function p(u,i){return u<<i|u>>>32-i}function A(u,i,f,l,F,P){return s(p(s(s(i,u),s(l,P)),F),f)}function h(u,i,f,l,F,P,x){return A(i&f|~i&l,u,i,F,P,x)}function g(u,i,f,l,F,P,x){return A(i&l|f&~l,u,i,F,P,x)}function v(u,i,f,l,F,P,x){return A(i^f^l,u,i,F,P,x)}function w(u,i,f,l,F,P,x){return A(f^(i|~l),u,i,F,P,x)}function V(u){var i,f=(u.length+8>>6)+1,l=new Array(f*16);for(i=0;i<f*16;i++)l[i]=0;for(i=0;i<u.length;i++)l[i>>2]|=u.charCodeAt(i)<<i%4*8;return l[i>>2]|=128<<i%4*8,l[f*16-2]=u.length*8,l}var o,a=V(""+y),t=1732584193,e=-271733879,n=-1732584194,r=271733878,m,C,O,b;for(o=0;o<a.length;o+=16)m=t,C=e,O=n,b=r,t=h(t,e,n,r,a[o+0],7,-680876936),r=h(r,t,e,n,a[o+1],12,-389564586),n=h(n,r,t,e,a[o+2],17,606105819),e=h(e,n,r,t,a[o+3],22,-1044525330),t=h(t,e,n,r,a[o+4],7,-176418897),r=h(r,t,e,n,a[o+5],12,1200080426),n=h(n,r,t,e,a[o+6],17,-1473231341),e=h(e,n,r,t,a[o+7],22,-45705983),t=h(t,e,n,r,a[o+8],7,1770035416),r=h(r,t,e,n,a[o+9],12,-1958414417),n=h(n,r,t,e,a[o+10],17,-42063),e=h(e,n,r,t,a[o+11],22,-1990404162),t=h(t,e,n,r,a[o+12],7,1804603682),r=h(r,t,e,n,a[o+13],12,-40341101),n=h(n,r,t,e,a[o+14],17,-1502002290),e=h(e,n,r,t,a[o+15],22,1236535329),t=g(t,e,n,r,a[o+1],5,-165796510),r=g(r,t,e,n,a[o+6],9,-1069501632),n=g(n,r,t,e,a[o+11],14,643717713),e=g(e,n,r,t,a[o+0],20,-373897302),t=g(t,e,n,r,a[o+5],5,-701558691),r=g(r,t,e,n,a[o+10],9,38016083),n=g(n,r,t,e,a[o+15],14,-660478335),e=g(e,n,r,t,a[o+4],20,-405537848),t=g(t,e,n,r,a[o+9],5,568446438),r=g(r,t,e,n,a[o+14],9,-1019803690),n=g(n,r,t,e,a[o+3],14,-187363961),e=g(e,n,r,t,a[o+8],20,1163531501),t=g(t,e,n,r,a[o+13],5,-1444681467),r=g(r,t,e,n,a[o+2],9,-51403784),n=g(n,r,t,e,a[o+7],14,1735328473),e=g(e,n,r,t,a[o+12],20,-1926607734),t=v(t,e,n,r,a[o+5],4,-378558),r=v(r,t,e,n,a[o+8],11,-2022574463),n=v(n,r,t,e,a[o+11],16,1839030562),e=v(e,n,r,t,a[o+14],23,-35309556),t=v(t,e,n,r,a[o+1],4,-1530992060),r=v(r,t,e,n,a[o+4],11,1272893353),n=v(n,r,t,e,a[o+7],16,-155497632),e=v(e,n,r,t,a[o+10],23,-1094730640),t=v(t,e,n,r,a[o+13],4,681279174),r=v(r,t,e,n,a[o+0],11,-358537222),n=v(n,r,t,e,a[o+3],16,-722521979),e=v(e,n,r,t,a[o+6],23,76029189),t=v(t,e,n,r,a[o+9],4,-640364487),r=v(r,t,e,n,a[o+12],11,-421815835),n=v(n,r,t,e,a[o+15],16,530742520),e=v(e,n,r,t,a[o+2],23,-995338651),t=w(t,e,n,r,a[o+0],6,-198630844),r=w(r,t,e,n,a[o+7],10,1126891415),n=w(n,r,t,e,a[o+14],15,-1416354905),e=w(e,n,r,t,a[o+5],21,-57434055),t=w(t,e,n,r,a[o+12],6,1700485571),r=w(r,t,e,n,a[o+3],10,-1894986606),n=w(n,r,t,e,a[o+10],15,-1051523),e=w(e,n,r,t,a[o+1],21,-2054922799),t=w(t,e,n,r,a[o+8],6,1873313359),r=w(r,t,e,n,a[o+15],10,-30611744),n=w(n,r,t,e,a[o+6],15,-1560198380),e=w(e,n,r,t,a[o+13],21,1309151649),t=w(t,e,n,r,a[o+4],6,-145523070),r=w(r,t,e,n,a[o+11],10,-1120210379),n=w(n,r,t,e,a[o+2],15,718787259),e=w(e,n,r,t,a[o+9],21,-343485551),t=s(t,m),e=s(e,C),n=s(n,O),r=s(r,b);return d(t)+d(e)+d(n)+d(r)}class J{put(c,d){let s="/api/v1/preferences/"+c;return M.put(s,{data:d})}}function _(y,c=null){window.store.set(y,c),new J().put(y,c).then(s=>{}).catch(()=>{new D().post(y,c).then(p=>{})})}class q{show(c,d){return M.get("/api/v2/accounts/"+c,{params:d})}index(c){const d=K("/api/v2/accounts",c),s=window.store.get("cacheValid");let p=window.store.get(d);return s&&typeof p<"u"?(console.log("Cache is valid, return cache."),Promise.resolve(p)):M.get("/api/v2/accounts",{params:c}).then(A=>(console.log("Cache is invalid, return fresh."),window.store.set(d,A.data),Promise.resolve({data:A.data.data,meta:A.data.meta})))}transactions(c,d){const s={page:d.page??1};return d.hasOwnProperty("start")&&(s.start=k(d.start,"y-MM-dd")),d.hasOwnProperty("end")&&(s.end=k(d.end,"y-MM-dd")),M.get("/api/v2/accounts/"+c+"/transactions",{params:s})}}export{q as G,K as g,_ as s};
